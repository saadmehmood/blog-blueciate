var tc;if(typeof(tc)=="undefined"){tc={}}var tc=tc||{};tc.lib=(function(){function d(s){return btoa(unescape(encodeURIComponent(JSON.stringify(s))))}function r(s){return JSON.parse(decodeURIComponent(escape(atob(s))))}function n(s,t,u){c(s,t);b(u)}function c(v,u){var t=document.getElementById(v);try{if(t){t.contentWindow.postMessage({message:u},"*")}}catch(s){e(s,"error")}}function b(w){var v=window.addEventListener?"addEventListener":"attachEvent";var t=window[v];var s=v=="attachEvent"?"onmessage":"message";try{t(s,function(x){if(x.data){w(x)}},false)}catch(u){e("Error :"+u)}}function a(){function s(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return s()+s()+"-"+s()+"-"+s()+s()}function g(s){s=s.replace(/[\[\]]/g,"\\$&");var u=new RegExp("[?&]"+s+"(=([^&#]*)|&|#|$)"),t=u.exec(location.search);if(!t){return null}if(!t[2]){return""}return decodeURIComponent(t[2].replace(/\+/g," "))}function e(t,s){try{if(typeof logstr=="object"){logstr=JSON.stringify(t)}var s=(s)?s:"log";if(window.console){window.console.log(t)}}catch(u){}}function f(s){if(typeof s=="undefined"||s==""||s==null||s=="null"){return true}else{if(typeof s=="object"&&Object.keys(s).length==0){return true}else{if(typeof s=="string"&&s.trim().length==0){return true}}}return false}function p(t,w,u){var v=new Date();v.setTime(v.getTime()+(u*24*60*60*1000));var s="expires="+v.toUTCString();document.cookie=t+"="+w+"; "+s}function k(u){var t=u+"=";var s=document.cookie.split(";");for(var v=0;v<s.length;v++){var w=s[v];while(w.charAt(0)==" "){w=w.substring(1)}if(w.indexOf(t)==0){return w.substring(t.length,w.length)}}return""}function l(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)){return true}else{return false}}function q(s,t){if(typeof(s.style.cssText)!="undefined"){s.style.cssText+=t}else{s.setAttribute("style",t)}}function h(w,s,t,u){var v;s=s||0;t=t||5;u=u||50;v=setInterval(function(){var x=s/100;s=s+t;if(x>1||x<0){w.style.display="block";clearInterval(v);return}w.style.opacity=x;w.style.filter="alpha(opacity="+x*100+")"},u)}function j(){try{return new XMLHttpRequest}catch(s){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(s){}return null}function m(t,s){var u=j();u.onreadystatechange=function(){if(this.readyState==4){if(typeof(s)=="function"){s(u)}}};if(t.headers){for(header in t.headers){u.setRequestHeader(header,t.headers[header])}}u.open(t.method,t.url);u.send();return u.onreadystatechange()}var o={persistanceMenu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 15" width="24" height="24"><path fill=CHANGECOLOR d="M186.5,192.16h24v2.5h-24Z" transform="translate(-186.5 -192.16)"></path><path fill=CHANGECOLOR d="M186.5,198.41h24v2.5h-24Z" transform="translate(-186.5 -192.16)"></path><path fill=CHANGECOLOR d="M186.5,204.66h24v2.5h-24Z" transform="translate(-186.5 -192.16)"></path></svg>',sendIcon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><g><path fill=CHANGECOLOR d="M187.11,200.95v-.23c0-.05,0-.11,0-.16a.84.84,0,0,1,.42-.47l5.74-3.31,16.24-9.37a2,2,0,0,1,.61-.29h.23a.83.83,0,0,1,.62.43,1.74,1.74,0,0,1,.11.31v.2l-.06.33-.37,2.21-.37,2.21L210,195l-.37,2.21-.38,2.29-.37,2.21-.37,2.21-.37,2.21-.4,2.39a1.08,1.08,0,0,1-.18.51.87.87,0,0,1-1.06.26l-6-2.43a.08.08,0,0,0-.11,0l-1,1.22-2.2,2.69a.76.76,0,0,1-.35.25l-.19.05h-.25a.86.86,0,0,1-.73-.86q0-2.3,0-4.61a.15.15,0,0,1,0-.09l2.5-3.07,4.43-5.42,4.36-5.34.19-.24c-.17.13-.33.26-.48.4l-3.23,2.79-3.72,3.22-3.35,2.9-3.44,3a.08.08,0,0,1-.11,0l-3.71-1.52-1.6-.66a.68.68,0,0,1-.39-.4C187.15,201.11,187.14,201,187.11,200.95Z" transform="translate(-187.11 -187.13)"></path></g></svg>',minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 11"><path fill=CHANGECOLOR d="M200,205.15l8.1-8.49a1.25,1.25,0,0,0-1.81-1.73l-7.21,7.55-7.46-7.59c-1.13-1.15-2.94.58-1.81,1.73l8.38,8.53A1.33,1.33,0,0,0,200,205.15Z" transform="translate(-189.5 -194.51)"></path></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.25 19.5"><g><path fill=CHANGECOLOR d="M203,189.87c.34.08.69.12,1,.23a5,5,0,0,1,2,8.1c-1.09,1.18-2.22,2.31-3.34,3.46q-3.1,3.21-6.2,6.42a3.86,3.86,0,0,1-2.37,1.26l-.07,0h-.74l-.43-.1a3.8,3.8,0,0,1-1.79-6.24l.18-.19,9.38-9.71a2.68,2.68,0,0,1,2.23-.87,2.46,2.46,0,0,1,2.16,2.74,3,3,0,0,1-.86,1.81l-7.62,7.89a.61.61,0,0,1-.69.21.62.62,0,0,1-.25-1l.15-.16,7.57-7.84a1.74,1.74,0,0,0,.53-1.12,1.24,1.24,0,0,0-1.68-1.29,1.72,1.72,0,0,0-.65.41q-4.76,4.9-9.5,9.83a2.57,2.57,0,0,0,.88,4.23,2.38,2.38,0,0,0,2.39-.45,2.66,2.66,0,0,0,.26-.24l9.51-9.84a3.75,3.75,0,0,0,1.09-2.9,3.65,3.65,0,0,0-2.86-3.4,3.44,3.44,0,0,0-3.3,1.05l-7.72,8-.14.15a.57.57,0,0,1-.8,0,.62.62,0,0,1,0-.84l.13-.14q3.81-3.94,7.62-7.89a4.8,4.8,0,0,1,3-1.55l.09,0Z" transform="translate(-190.12 -189.87)"></path></g></svg>',microPhone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.18 11.08"><path fill=CHANGECOLOR d="M200.49,199.51V196a1.73,1.73,0,0,0-1.74-1.75,1.72,1.72,0,0,0-1.24.51A1.67,1.67,0,0,0,197,196v3.5a1.77,1.77,0,0,0,1.76,1.75,1.65,1.65,0,0,0,1.23-.52,1.7,1.7,0,0,0,.51-1.23Zm.42,2.11a3.08,3.08,0,0,1-2.16.85,3.12,3.12,0,0,1-2.17-.85,2.73,2.73,0,0,1-.93-2.11h-1a3.7,3.7,0,0,0,1,2.57,4.1,4.1,0,0,0,2.48,1.34v1.91h1.18v-1.91a4.13,4.13,0,0,0,2.48-1.33,3.68,3.68,0,0,0,1-2.58h-1A2.75,2.75,0,0,1,200.92,201.61Z" transform="translate(-194.67 -194.26)"></path></svg>',persistanceLeftArrow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.94 19.02" width="18" height="18"><path fill=CHANGECOLOR d="M193.88,200.06l8.44,8.11a1.25,1.25,0,0,0,1.72-1.81l-7.52-7.22,7.55-7.47c1.15-1.13-.58-2.94-1.72-1.81l-8.48,8.39A1.33,1.33,0,0,0,193.88,200.06Z" transform="translate(-193.53 -189.5)"></path></svg>',persistanceRightArrow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.94 19.02" width="18" height="18"><path fill=CHANGECOLOR d="M205.11,229l-8.44-8.11a1.25,1.25,0,0,0-1.72,1.81l7.52,7.22-7.55,7.47c-1.15,1.13.58,2.94,1.72,1.81l8.48-8.39A1.33,1.33,0,0,0,205.11,229Z" transform="translate(-194.53 -220.49)"></path></svg>',persistanceClose:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.8 18.19" width="18" height="18"><path fill=CHANGECOLOR d="M199.43,200.1l7.16-7.74c1-1.06-.61-2.64-1.6-1.58l-6.38,6.88-6.6-6.92c-1-1.05-2.6.53-1.6,1.58l7.41,7.77A1.15,1.15,0,0,0,199.43,200.1Z" transform="translate(-190.1 -190.4)"></path><path fill=CHANGECOLOR d="M197.57,198.92l-7.16,7.71c-1,1.06.61,2.64,1.6,1.57l6.38-6.86,6.6,6.9c1,1,2.6-.53,1.6-1.57l-7.41-7.75A1.15,1.15,0,0,0,197.57,198.92Z" transform="translate(-190.1 -190.4)"></path></svg>'};return{events:{init:n,send:c,receive:b},JsonToString:d,StringToJson:r,uuid:a,getUrlParam:g,log:e,isEmpty:f,setCookie:p,getCookie:k,bw_appear:h,mobileDevice:l,applyCssSettings:q,xhrReq:m,icons:o}})();tc.funcs=(function(){var B=false,H=false,m="",d=window.location.origin,l=undefined,C=undefined,o=undefined,p=false,w=undefined,L="3",c="anon:"+tc.lib.uuid(),G="User",A="//botwidget.gupshup.io/ChatChannel",r="//www.buildquickbots.com";function M(N,O){if(O&&O.length>0){return O}else{return N}}function K(){var N={openMode:{text:"Talk to Bot",height:390,width:320},closeMode:{text:"Talk to Bot",width:250,displayType:"rectangular"},common:{logo:"https://www.gupshup.io/images/botwidget/ic_dummy_chat_g.png",imgDispType:"circular",bgColor:"#765999",fontSize:16,fontColor:"#ffffff"},content:{bot:"https://www.gupshup.io/images/botwidget/ic_bot.png",botBubbleColor:"#f5f5f5",botFontColor:"#797979",user:"https://www.gupshup.io/images/botwidget/ic_user.png",userBubbleColor:"#765999",userFontColor:"#ffffff",pageTitle:"Chat Bot",fontSize:14,fontFamily:"sans-serif"},config:{persistenceMenu:'{"disableinput":false, "hideMenuLabel":false,"menu":[{"title":"Level1 - Element1","type":"nested","menu":[{"title":"Level2 - Element1","type":"text"},{"title":"Level2 - Element2","type":"nested","menu":[{"title":"Level3 - Element1","type":"text"}]},{"title":"Level2 - Element4","type":"nested","menu":[{"title":"Level3 - Element1","type":"text"}]},{"title":"Level2 - Element5","type":"text"}]},{"title":"Level2 - Element4.1","type":"text"}]}',perMenuImg:"",attachment:"Yes",widgetType:"Text",msgEnc:"No",webView:"Yes",RDStatus:"No",isResponsive:"No"}};return N}function j(O){var V=O.minimisedScreen;var U=O.chatScreen;var T=O.contentScreen;var N=O.commonWidget;var S=O.config;if(!V||!U||!T||!N){if(!O.openMode){throw new Error("Wrong settings, not old or new settings")}return O}var Q={text:M("Talk to Bot",V.minText),height:M(500,N.height),width:M(350,N.width)};var R={text:M("Support",V.minText),width:M(200,V.width)};var P={logo:M("https://www.gupshup.io/images/botwidget/ic_dummy_chat_g.png",N.logo),imgDispType:M("rectangular",N.widgetType),bgColor:M("#fbfbfb",N.bgColor),fontSize:M(16,N.titleTextFont),fontColor:M("#2d0101",N.textColor)};var Y={bot:M("https://www.gupshup.io/images/botwidget/ic_bot.png",N.bot),botBubbleColor:M("#383838",T.botBgColor),botFontColor:M("#adff00",T.botColor),user:M("https://www.gupshup.io/images/botwidget/ic_user.png",N.user),userBubbleColor:M("#ffffff",T.userBgColor),userFontColor:M("#0400bd",T.userColor),pageTitle:M("Chat Bot",N.pageTitle),fontSize:M(14,T.customfontSize),fontFamily:M("sans-serif",T.fontFamily)};var X={persistenceMenu:M("",N.persistenceMenu),perMenuImg:M("http://www.buildquickbots.com/botwidget/v3/static/img/ic_persistence_menu.png",N.perMenuImg),widgetType:M("Voice",N.widgetType),msgEnc:M("No",N.msgEncryption),webView:M("Yes",N.webView),RDStatus:M("No",N.RDStatus),isResponsive:M("No",N.isResponsive),allowHtmlFromBot:M("Yes",N.allowHtmlFromBot)};if(S&&S.attachment){X.attachment=M("Yes",S.attachment)}var W={openMode:Q,closeMode:R,common:P,content:Y,config:X};return W}function x(){return r+"/botwidget/v3/echat/mobile.html"}function y(P,O,N){var Q=document.createElement(P);if(O){Q.id=O}if(N){Q.className=N}return Q}function D(O,P){if(typeof(P)=="object"){var N=Object.keys(P);for(i in P){O.setAttribute(i,P[i])}}}function I(N,O){if(typeof(N.style.cssText)!="undefined"){N.style.cssText+=O}else{N.setAttribute("style",O)}}function k(O){if(arguments.length>1){for(var N=1;N<arguments.length;N++){O.appendChild(arguments[N])}}}function e(N){var Q=new Array();Q=document.getElementsByClassName("tc-widget");if(N){a();for(var O=0;O<Q.length;O++){var P=Q[O];P.classList.remove("hidewidget");P.classList.remove("widget-fadeOut");P.style.display="block"}document.getElementById("widget-close").style.display="block";tc.lib.events.send("iframe_widget","open");if(B&&H){tc.lib.events.send("iframe_widget","play")}else{if(m){window.clearInterval(m)}m=setInterval(function(){if(B&&H){tc.lib.events.send("iframe_widget","play");clearInterval(m)}},1000)}if(!tc.devbox.isIframeInitialized){document.getElementById("iframe_widget").setAttribute("src",tc.devbox.iframeUrl);tc.devbox.isIframeInitialized=true}}else{for(var O=0;O<Q.length;O++){var P=Q[O];if(P.style.display!="none"&&P.getAttribute("id")!="widget-open"){P.classList.add("hidewidget");P.classList.add("widget-fadeOut");setTimeout(function(){document.getElementById("widget-close").style.display="none"},1000);setTimeout(function(){document.getElementById("widget").style.display="none"},1000)}}document.getElementById("widget-open").style.display="block";tc.lib.events.send("iframe_widget","pause");tc.lib.events.send("iframe_widget","close")}}function a(O){var N=document.getElementById("widget");var P=document.getElementById("widget-open").querySelector("span.bedge");if(O<1||!(N.style.display=="none"||N.style.display=="")||isNaN(O)){P.innerText=0;P.style.display="none";return false}else{P.innerText=parseInt(O)+parseInt(P.innerText);P.style.display="block"}}function E(){var P="&domain="+d;var R="&timestamp="+new Date().getTime();var N={botkey:l,sender:z(),common:{imgDispType:C.common.imgDispType,bgColor:C.common.bgColor,bgImage:C.content.bgImage,fontColor:C.common.fontColor,isMobile:tc.lib.mobileDevice(),ref:tc.lib.getUrlParam("ref"),width:C.openMode.width,height:C.openMode.height},content:C.content,config:C.config};if(o&&o.wsurl){N.devbox={enc:false,wsurl:o.wsurl}}var Q=tc.lib.JsonToString(N);var O=x()+"?data="+Q+P+R;return O}function n(){var P="&domain="+d;var R="&timestamp="+new Date().getTime();var N={botkey:l,contentScreen:C.contentScreen,sender:z(),persistenceMenu:C.commonWidget.persistenceMenu,common:{userImg:C.commonWidget.user,botImg:C.commonWidget.bot,msgEncyption:C.commonWidget.msgEncryption,widgetType:C.commonWidget.widgetType,pageTitle:C.commonWidget.pageTitle,bgImage:C.commonWidget.bgImage,isMobile:tc.lib.mobileDevice(),ref:tc.lib.getUrlParam("ref"),RDStatus:C.commonWidget.RDStatus,webView:C.commonWidget.webView,allowHtmlFromBot:C.commonWidget.allowHtmlFromBot,perMenuImg:C.commonWidget.perMenuImg}};if(C.config&&C.config.attachment=="No"){N.common.attachment=false}if(o&&o.wsurl){N.devbox={enc:false,wsurl:o.wsurl}}var Q=tc.lib.JsonToString(N);var O=x()+"?data="+Q+P+R;return O}function t(P){var N=E();var O=document.createElement("iframe");tc.devbox.iframeUrl=N;O.setAttribute("id","iframe_widget");var P=document.getElementById(P);P.innerHTML="";P.appendChild(O)}function s(){var N=E();window.open(N,"_blank")}function u(O){var N=y("div","widget-open","tc-widget widget-type rectangular-widget")}function g(af){tc.lib.applyCssSettings(af,"display:none;");var ab=y("div","widget-close","tc-widget widget-fadeIn");var R;var aa=y("div","widget","tc-widget widget-fadeIn");var ak=y("div",undefined,"logo-img-icon");var al=y("img");var Y=y("span","max-msg");var X=y("span",undefined,"right");D(al,{src:C.common.logo,width:45,height:45});var U=new RegExp("CHANGECOLOR","g");D(X,{onClick:"tc.funcs.toggleWidget(false)"});Y.innerText=C.openMode.text;X.innerHTML=tc.lib.icons.minimize.replace(U,C.common.fontColor);var ai=ak.cloneNode(true);var P=y("span","min-msg");var N=y("span",undefined,"bedge");var V=al.cloneNode(true);D(V,{width:45,height:45});N.innerText="0";var T=C.common;var S=C.content;var ae=C.openMode;var Z=C.closeMode;var ad=C.config;var Q="";if(Z.displayType=="circular"){R=y("div","widget-open","tc-widget widget-type circular-widget");R.setAttribute("title",Z.text);P.style.display="none";Q="border-radius: 50%;"}else{R=y("div","widget-open","tc-widget widget-type rectangular-widget");P.innerText=Z.text;Q="width:"+(parseInt(Z.width,10))+"px;border-radius: 4px 4px 0px 0px;"}D(R,{onClick:"tc.funcs.toggleWidget(true)"});k(af,ab,R,aa);k(ab,ak,Y,X);k(ak,al);k(R,ai,P,N);k(ai,V);var ah="vertical-align: top;";var O="background-color: "+T.bgColor,aj="width: "+(parseInt(ae.width,10))+"px;height: "+(parseInt(ae.height,10))+"px;",ac="bottom:"+(parseInt(ae.height,10))+"px;;width: "+(parseInt(ae.width,10))+"px;border-radius: 4px 4px 0px 0px;";tc.lib.applyCssSettings(al,ah);tc.lib.applyCssSettings(ab,O);var W="font-size:"+T.fontSize+"px;color:"+T.fontColor+";";tc.lib.applyCssSettings(Y,W);tc.lib.applyCssSettings(P,W);tc.lib.applyCssSettings(R,O);tc.lib.applyCssSettings(aa,aj);tc.lib.applyCssSettings(ab,ac);tc.lib.applyCssSettings(R,Q);if(ad.isResponsive=="Yes"){var ag=document.createElement("meta");ag.name="viewport";ag.content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0";document.getElementsByTagName("head")[0].appendChild(ag)}if(T.imgDispType=="circular"){ak.style.borderRadius="40px";ai.style.borderRadius="40px"}window.addEventListener("focus",function(){if(aa&&aa.style&&aa.style.display=="block"){tc.lib.events.send("iframe_widget","topFocus")}});window.addEventListener("blur",function(){if(aa&&aa.style&&aa.style.display=="block"){tc.lib.events.send("iframe_widget","topBlur")}})}function b(aa){tc.lib.applyCssSettings(aa,"display:none;");var P=y("div","widget-close","tc-widget widget-fadeIn");var U;var N=y("div",undefined,"logo-img-icon");var R=y("img");var X=y("span","min-msg");var O=y("div","widget","tc-widget widget-fadeIn");D(R,{src:C.common.logo,width:45,height:45});var Q=C.common;var S=C.content;var W=C.closeMode;var T=C.config;var Z="";if(W.displayType=="circular"){U=y("div","widget-open","tc-widget widget-type circular-widget");U.setAttribute("title",W.text);X.style.display="none";Z="background-color: "+Q.bgColor+";border-radius: 50%;"}else{U=y("div","widget-open","tc-widget widget-type rectangular-widget");X.innerText=W.text;Z="background-color: "+Q.bgColor+";width:"+(parseInt(W.width,10))+"px;border-radius: 4px 4px 0px 0px;"}D(U,{onClick:"supportChatMobile()"});k(aa,P,U,O);k(U,N,X);k(N,R);var V="vertical-align: top;";tc.lib.applyCssSettings(R,V);tc.lib.applyCssSettings(U,Z);tc.lib.applyCssSettings(X,"font-size:"+Q.fontSize+"px;color:"+Q.fontColor+";");if(T.isResponsive=="Yes"){var Y=document.createElement("meta");Y.name="viewport";Y.content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0";document.getElementsByTagName("head")[0].appendChild(Y)}if(Q.imgDispType=="circular"){N.style.borderRadius="40px"}}function h(N){if(typeof(N)=="string"){tc.lib.events.send(N,"startchatevent")}else{tc.lib.events.send("iframe_widget","startchatevent")}}function z(){var N={channel:"widget",sender:{id:c,name:G},recipient:{id:l,name:"Bot"},message:{text:"hi",type:"text"}};return N}function q(Q){var N=K();var O=undefined;if(Q){try{O=j(JSON.parse(unescape(Q)));return O}catch(P){tc.lib.log("uiSettings not funnd. Taking default settings.");return N}}}function J(O,N){if(p){return false}B=true;if(!O.botkey&&!l){console.log("Botkey not found");return false}else{if(O.botkey){l=O.botkey}}if(O.userObj&&O.userObj.sender&&O.userObj.sender.id){c=O.userObj.sender.id;G=O.userObj.sender.name}o=O;if(O.domain){r=O.domain}C=q(O.appUISetting);if(N instanceof Function){p=true;return N()}var P=y("div","supportchatwidget");document.body.appendChild(P);if(tc.lib.mobileDevice()){b(P)}else{g(P);t("widget");w=function(Q){if(Q){if(Q.data.event=="ready"){H=true;tc.lib.events.send("iframe_widget","data")}else{if(Q.data.event=="bw"){if(Q.data.message=="hide"){tc.lib.log("Disappering... Bye");tc.lib.applyCssSettings(document.querySelector("#supportchatwidget"),"display: none;")}else{if(typeof(Q.data.message)&&Q.data.message.newMsg){a(Q.data.message.newMsg)}}}}}};tc.lib.events.init("iframe_widget","play",w)}setTimeout(function(){document.getElementById("supportchatwidget").style.display="block"},1000);document.getElementById("widget-open").style.display="block";p=true}function f(N){p=N}function F(N){C=N}function v(T,U){var O=document.getElementById("gs-sdk");var N;if(O){N=O.getAttribute("callback")}else{N="tcAsyncInit"}if(!O){if(window[N] instanceof Function){window[N]()}console.log("Id not found in script");return false}if(!T.getElementById("gs-css")&&N!="localhost"){var R=T.getElementsByTagName("script")[0];css=T.createElement("link");css.id=U;css.type="text/css";css.rel="stylesheet";var Q=new Date().getTime();css.href=r+"/botwidget/v3/demo/static/css/style.css?ts="+Q;R.parentNode.insertBefore(css,R)}var S=O.getAttribute("key");if(S){l=S}if(window[N] instanceof Function){window[N]({init:J,toggleWidget:e,getRedirectUrl:E,supportChatMobile:s,startchat:h,nconfig:F,resetWidgetInit:f})}else{if(!S){console.log("Botkey attribute not found");return false}var P={method:"GET",url:A+"/api/bot/"+l+"/botconfig"};tc.lib.xhrReq(P,function(V){var X={};if(V.status<300&&V.response){try{C=JSON.parse(V.response);if(!tc.lib.isEmpty(C["uisettings_"+L])){X.appUISetting=C.uisettings_3;L=C.version}else{if(!tc.lib.isEmpty(C.uisettings)){tc.lib.log("Please re-deploy the widget")}}}catch(W){tc.lib.log("uiSettings not funnd. Please save the settings first at widget config.")}J(X)}else{console.log("Error in get")}})}}setTimeout(function(){v(document,"gs-css")},200);return{init:J,toggleWidget:e,getRedirectUrl:E,supportChatMobile:s,startchat:h,nconfig:F,resetWidgetInit:f}})();toggleWidget=tc.funcs.toggleWidget;tc.init=tc.funcs.init;var supportChatMobile=tc.funcs.supportChatMobile;tc.devbox={startchat:tc.funcs.startchat,isIframeInitialized:false,iframeUrl:""};